name: "PR-I AI è‡ªæ¼”è¿›"
description: "åœ¨æ„å»º/æäº¤é˜¶æ®µè‡ªåŠ¨ä¸ºæ–°æ–‡æ¡£ç”Ÿæˆå‘é‡ã€æ‘˜è¦ä¸é—®ç­”å¯¹ï¼Œå½¢æˆå¯é™æ€å‘å¸ƒçš„è‡ªè§£é‡Šæ•°æ®å±‚ï¼ˆå‰ç«¯/å¤–éƒ¨å¯è¯»ï¼‰"
title: "[PR-I] AI è‡ªæ¼”è¿›ï¼ˆEmbeddings / Summaries / Q&Aï¼‰"
labels: ["ai", "automation", "content-intelligence", "build"]

body:
  - type: markdown
    attributes:
      value: |
        ## ğŸ¯ ç›®æ ‡ä¸çº¦æŸ
        - åœ¨ **æ„å»º/æäº¤é˜¶æ®µ**ï¼Œä¸ºæ–°æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆï¼š**å‘é‡**ã€**æ‘˜è¦**ã€**é—®ç­”å¯¹**ï¼Œå½¢æˆâ€œè‡ªè§£é‡Šæ•°æ®å±‚â€ä¾›å‰ç«¯é—®ç­”æˆ–å¤–éƒ¨è°ƒç”¨ã€‚
        - **ä¼˜å…ˆæœ¬åœ°/å¼€æº**ï¼ˆTransformers.js / Node pipelineï¼‰ã€‚è‹¥ä¸å¯ç”¨ï¼Œæä¾›å ä½è„šæœ¬ï¼Œé¿å… CI æ–­é“¾ã€‚
        - ä¸é˜»å¡ä¸»æ„å»ºï¼šç”Ÿæˆæ­¥éª¤å¯é…ç½®ä¸º**è½¯å¤±è´¥**ï¼ˆé»˜è®¤è½¯å¤±è´¥ï¼Œå¯é€šè¿‡ env å¯ç¡¬å¤±è´¥ï¼‰ã€‚
        - äº§ç‰©è¾“å‡ºè‡³ `docs/public/data/`ï¼Œä»…é™æ€åªè¯»è®¿é—®ï¼›ä¸æš´éœ²éšç§ã€‚

  - type: markdown
    attributes:
      value: |
        ## ğŸ§© ä»»åŠ¡æ‹†è§£

        ### 1) è‡ªåŠ¨åµŒå…¥ï¼ˆæ„å»º/æäº¤é˜¶æ®µï¼‰
        - æ–°å¢ï¼š`scripts/embed-build.mjs`
        - æ‰«æï¼š`docs/content.zh/**/index.md`ï¼ˆè·³è¿‡ `draft: true`ï¼‰
        - è¯»å–ï¼š`title` + `excerpt/é¦–æ®µ` â†’ `texts[]`
        - **æ–¹æ¡ˆAï¼ˆä¼˜å…ˆï¼‰**ï¼šNode æœ¬åœ°ç¼–ç å™¨ï¼ˆå¦‚ `@xenova/transformers` / `onnxruntime-node`ï¼‰äº§å‡ºå‘é‡
        - **æ–¹æ¡ˆBï¼ˆå ä½ï¼‰**ï¼šä»…å¯¼å‡ºæ–‡æœ¬ï¼›å‰ç«¯é¦–æ¬¡ä½¿ç”¨æ‰¹é‡ç¼–ç å¹¶ç¼“å­˜ï¼ˆå·²å…·å¤‡ï¼‰
        - äº§ç‰©ï¼ˆæ–¹æ¡ˆAï¼‰ï¼š
          ```json
          { "dim": 0, "items": [ { "url": "...", "title": "...", "vec": [/* float[] */] } ] }
          ```
          æˆ–ï¼ˆæ–¹æ¡ˆBï¼‰ï¼š
          ```json
          { "items": [ { "url": "...", "title": "...", "text": "..." } ] }
          ```
        - å¤§å°æ§åˆ¶ï¼šå‘é‡æ–‡ä»¶ â‰¤ **15MB**

        ### 2) æ‘˜è¦ç”Ÿæˆ
        - æ–°å¢ï¼š`scripts/summary.mjs`
        - è°ƒç”¨æœ¬åœ° LLM æˆ– Codex APIï¼ˆè‹¥ä¸å¯ç”¨åˆ™è·³è¿‡ï¼‰
        - è¾“å‡ºåˆ° `docs/public/data/summaries.json`ï¼ˆæˆ–å¯é€‰å›å¡« `frontmatter.excerpt`ï¼‰
        - æ¯ç¯‡æ–‡æ¡£ 1â€“2 å¥ **ä¸­æ–‡æ‘˜è¦**

        ### 3) é—®ç­”å¯¹å¯¼å‡ºï¼ˆQ&Aï¼‰
        - æ–°å¢ï¼š`scripts/qa-build.mjs`
        - æ¯ç¯‡ 2â€“5 å¯¹ QAï¼šèšç„¦â€œè¿™ç¯‡æ–‡ç« è§£å†³ä»€ä¹ˆ/å…³é”®æœ¯è¯­/å¸¸è§å‘â€
        - è¾“å‡º `docs/public/data/qa.json`ï¼š
          ```json
          { "items": [ { "url": "...", "qa": [ { "q": "...", "a": "..." } ] } ] }
          ```
        - å¤±è´¥è·³è¿‡ï¼Œä¸é˜»å¡

        ### 4) å‰ç«¯æœ€å°æ¥å…¥ï¼ˆå¯é€‰ï¼‰
        - åœ¨ `SearchBox` æˆ– `/about/qa` è¯»å– `qa.json` å±•ç¤ºè¯¥æ–‡æ¡£å¸¸è§é—®ç­”ï¼›ç‚¹å‡»è·³é”šç‚¹

        ### 5) CI é›†æˆï¼ˆè½¯å¤±è´¥å¯é…ç½®ï¼‰
        - æ„å»ºå‰æ’å…¥ï¼ˆé¡ºåºï¼‰ï¼š
          ```bash
          node scripts/embed-build.mjs
          node scripts/summary.mjs || true
          node scripts/qa-build.mjs || true
          ```
        - é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶æ˜¯å¦**ç¡¬å¤±è´¥**ï¼š
          - `AI_BUILD_STRICT=1` æ—¶ï¼Œä¸‰ä¸ªæ­¥éª¤å‡éœ€æˆåŠŸï¼ˆä¸åŠ  `|| true`ï¼‰

  - type: checkboxes
    id: acceptance
    attributes:
      label: âœ… éªŒæ”¶æ ‡å‡†
      options:
        - label: æ–°æ–‡ç« åˆå…¥åå¯è‡ªåŠ¨å‡ºç°åœ¨ `embeddings.json`ï¼ˆæˆ–æ–‡æœ¬å ä½ï¼‰/ `summaries.json` / `qa.json` ä¸­
          required: true
        - label: å‰ç«¯èƒ½å¤Ÿè¯»å–ä¸Šè¿°æ•°æ®æ–‡ä»¶ï¼›ä¸å¯ç”¨æ—¶ä¸å½±å“é¡µé¢æ¸²æŸ“
          required: true
        - label: ç”Ÿæˆæ­¥éª¤é»˜è®¤ä¸é˜»å¡æ„å»ºï¼ˆè½¯å¤±è´¥ï¼‰ï¼Œä½†å¯é€šè¿‡ env å¼€å¯ç¡¬å¤±è´¥
          required: true
        - label: äº§ç‰©ä½äº `docs/public/data/` ä¸”ä¸å«éšç§ï¼›å‘é‡æ–‡ä»¶æ€»ä½“ç§¯ â‰¤ 15MB
          required: true

  - type: textarea
    id: impl
    attributes:
      label: ğŸ§¾ å®æ–½è¯´æ˜ä¸ä¾èµ–
      description: è¯´æ˜é‡‡ç”¨çš„æ¨¡å‹/ä¾èµ–ä¸æ–¹æ¡ˆï¼ˆA æˆ– Bï¼‰ï¼Œä»¥åŠè½¯/ç¡¬å¤±è´¥çš„é…ç½®æ–¹å¼
      placeholder: |
        - æ–¹æ¡ˆAæ¨¡å‹ï¼š@xenova/transformers + onnxruntime-nodeï¼ˆgte-smallï¼‰
        - å›é€€æ–¹æ¡ˆBï¼šä»…å¯¼å‡ºæ–‡æœ¬ï¼ˆtextsï¼‰
        - ç¯å¢ƒå˜é‡ï¼šAI_BUILD_STRICT=0ï¼ˆè½¯å¤±è´¥ï¼Œé»˜è®¤ï¼‰ï¼›=1ï¼ˆç¡¬å¤±è´¥ï¼‰

  - type: textarea
    id: logs
    attributes:
      label: ğŸ§ª éªŒè¯ä¸æ—¥å¿—
      description: ç²˜è´´æœ¬åœ°/CI è¿è¡Œçš„å…³é”®è¾“å‡ºã€ç»Ÿè®¡æ¡æ•°ä¸æ–‡ä»¶ä½“ç§¯
      placeholder: |
        [embed-build] scanned 42 docs, vectors: 42, dim: 384, size: 6.2MB
        [summary] generated 38/42 summaries (4 skipped)
        [qa] generated 150 QAs
        data sizes:
          - embeddings.json: 6.2MB
          - summaries.json: 24KB
          - qa.json: 58KB

  - type: markdown
    attributes:
      value: |
        ## ğŸ” å›æ»šç­–ç•¥
        - åˆ‡æ¢ä¸º**æ–¹æ¡ˆB**ï¼šä»…å¯¼å‡ºæ–‡æœ¬ï¼Œä¸ç”Ÿæˆå‘é‡/æ‘˜è¦/é—®ç­”ï¼ˆä¿ç•™æ¥å£ä¸€è‡´æ€§ï¼‰
        - ä¿æŒæ„å»ºæµç¨‹ä¸å˜ï¼›å‰ç«¯ç»§ç»­åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶æ‡’ç¼–ç ï¼ˆå¦‚å·²å®ç°ï¼‰

  - type: markdown
    attributes:
      value: |
        ## ğŸ“ è¾“å‡ºç‰©ï¼ˆPR åº”åŒ…å«ï¼‰
        - `scripts/embed-build.mjs` / `scripts/summary.mjs` / `scripts/qa-build.mjs`
        - `docs/public/data/embeddings.json`ï¼ˆæˆ–æ–‡æœ¬å ä½ï¼‰ã€`summaries.json`ã€`qa.json`
        - ï¼ˆå¯é€‰ï¼‰å‰ç«¯æ¥å…¥ç‚¹æ”¹åŠ¨ï¼ˆSearchBox / /about/qaï¼‰
        - é…ç½®ä¸æ—¥å¿—ï¼šç”Ÿæˆç»Ÿè®¡ã€æ–‡ä»¶ä½“ç§¯ã€è½¯/ç¡¬å¤±è´¥å¼€å…³è¯´æ˜